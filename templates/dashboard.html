{% extends 'base.html' %}

{% block content %}
<div class="container text-white">
    
    <div class="row mb-4 align-items-center">
        <div class="col-md-8">
            <h2 class="fw-bold display-5">Hello, <span class="text-warning">{{ user.username }}</span>! ðŸ‘‹</h2>
            <p class="lead opacity-75">Here is your learning progress for this week.</p>
        </div>
        <div class="col-md-4 text-end">
            <a href="/youtube" class="btn btn-primary rounded-pill px-4 shadow-lg">
                <i class="fa-solid fa-play"></i> Start New Topic
            </a>
        </div>
    </div>

    <div class="row g-4 mb-5">
        
        <div class="col-md-3">
            <div class="glass-card p-4 text-center">
                <i class="fa-solid fa-video fa-2x text-info mb-3"></i>
                <h3 class="fw-bold">{{ user.videos_watched }}</h3>
                <p class="small text-white-50">Videos Summarized</p>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="glass-card p-4 text-center">
                <i class="fa-solid fa-star fa-2x text-warning mb-3"></i>
                <h3 class="fw-bold">{{ user.points }}</h3>
                <p class="small text-white-50">Total Points</p>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="glass-card p-4 text-center">
                <i class="fa-solid fa-brain fa-2x text-danger mb-3"></i>
                <h3 class="fw-bold">{{ user.quiz_average }}%</h3>
                <p class="small text-white-50">Quiz Average</p>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="glass-card p-4 text-center">
                <i class="fa-solid fa-fire fa-2x text-danger mb-3"></i>
                <h3 class="fw-bold">{{ user.streak }} Days</h3>
                <p class="small text-white-50">Learning Streak</p>
            </div>
        </div>

    </div>

    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="glass-card p-4">
                <h4 class="mb-4 border-bottom pb-2 border-secondary">
                    <i class="fa-solid fa-chart-simple text-success"></i> Subject Performance
                </h4>
                
                <div class="text-center">
                    {% if graph_image %}
                        <img src="{{ graph_image }}" alt="Performance Graph" class="img-fluid rounded shadow-sm" style="border: 1px solid rgba(255,255,255,0.2);">
                    {% else %}
                        <p class="text-white-50">No data available yet.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

</div>
{% endblock %}