{% extends 'base.html' %}

{% block content %}

<style>
/* ===== FONT ===== */
* {
    font-family: 'Poppins', sans-serif;
}

/* ===== PAGE BACKGROUND ===== */
.summarizer-page {
    background: linear-gradient(
        135deg,
        #fdfbfb 0%,
        #ebedee 30%,
        #e0f2fe 65%,
        #fce7f3 100%
    );
    min-height: calc(100vh - 100px);
    padding: 40px 20px;
}

/* ===== PAGE WRAPPER (BORDER FIX) ===== */
.summarizer-wrapper {
    background: rgba(255, 255, 255, 0.92);
    border-radius: 32px;
    border: 1px solid rgba(0, 0, 0, 0.08);
    padding: 40px;
    box-shadow: 0 30px 80px rgba(0, 0, 0, 0.12);
}

/* ===== HEADING ===== */
.summarizer-title {
    font-weight: 800;
    color: #111827;
}

.summarizer-title span {
    color: #fb7185;
}

.summarizer-subtitle {
    color: #374151;
}

/* ===== INPUT CARD ===== */
.glass-card {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 24px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.12);
}

/* ===== INPUT ===== */
#youtubeURL {
    background: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 16px;
    padding: 16px;
    font-size: 1rem;
    color: #111827;
}

#youtubeURL::placeholder {
    color: #9ca3af;
}

/* ===== BUTTON ===== */
.btn-primary {
    background: linear-gradient(135deg, #38bdf8, #fb7185);
    border: none;
    font-weight: 600;
    box-shadow: 0 10px 30px rgba(56, 189, 248, 0.4);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 16px 40px rgba(251, 113, 133, 0.5);
}

/* ===== LOADING ===== */
#loadingSection p {
    color: #6b7280;
}

/* ===== RESULT TITLES ===== */
#videoTitle {
    color: #111827;
}

/* ===== CONTENT TEXT ===== */
#summaryContent {
    color: #374151;
    line-height: 1.8;
}

/* ===== QUIZ CARD ===== */
.quiz-card {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 24px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.12);
}
</style>

<div class="container-fluid summarizer-page">

    <div class="summarizer-wrapper">

        <!-- HEADER -->
        <div class="text-center mb-5">
            <h1 class="summarizer-title display-5">
                Video <span>Summarizer</span> ðŸŽ¥
            </h1>
            <p class="summarizer-subtitle lead">
                Paste a YouTube link to get instant notes and a practice quiz.
            </p>
        </div>

        <!-- INPUT -->
        <div class="row justify-content-center mb-5">
            <div class="col-md-8">
                <div class="glass-card p-4">
                    <div class="input-group">
                        <input
                            type="text"
                            id="youtubeURL"
                            class="form-control form-control-lg"
                            placeholder="Paste YouTube Link here..."
                        >
                        <button class="btn btn-primary px-4" onclick="generateSummary()">
                            <span id="btnText">Summarize</span>
                            <span id="btnLoader" class="spinner-border spinner-border-sm d-none"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- LOADING -->
        <div id="loadingSection" class="text-center d-none my-5">
            <div class="spinner-grow text-primary"></div>
            <div class="spinner-grow text-warning"></div>
            <div class="spinner-grow text-danger"></div>
            <p class="mt-3">AI is watching the video & making notes...</p>
        </div>

        <!-- RESULTS -->
        <div id="resultSection" class="d-none">

            <h2 id="videoTitle" class="fw-bold mb-4 text-center"></h2>

            <div class="row g-4">

                <!-- NOTES -->
                <div class="col-md-7">
                    <div class="glass-card p-4 h-100">
                        <h3 class="border-bottom pb-2 mb-3">
                            <i class="fa-solid fa-list-check text-success"></i>
                            Key Notes
                        </h3>
                        <div id="summaryContent"></div>
                    </div>
                </div>

                <!-- QUIZ -->
                <div class="col-md-5">
                    <div class="quiz-card p-4 h-100">
                        <h3 class="border-bottom pb-2 mb-3">
                            <i class="fa-solid fa-brain text-warning"></i>
                            Quick Quiz
                        </h3>
                        <div id="quizContent"></div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>

{% endblock %}